# 添加 E2E 测试方案

## Why

项目已有 Playwright 测试框架，但以下新开发的功能缺少测试覆盖：
1. **资产管理功能**：模拟数据、元数据编辑、批量操作、导入导出
2. **分镜头功能**：创作、模板向导、导入向导
3. **认证权限**：登录流程、权限控制
4. **全功能回归**：确保核心用户流程正常工作

缺少自动化测试会导致：
- 发布前手动测试耗时且容易遗漏
- 代码重构时难以保证功能不受影响
- Bug 修复后无法验证是否引入新问题

## What Changes

### 1. 资产管理功能 E2E 测试
- 测试模拟数据加载和持久化
- 测试资产元数据编辑
- 测试批量操作（选择、删除、移动）
- 测试 CSV 导入导出

### 2. 分镜头功能 E2E 测试
- 测试分镜头 CRUD 操作
- 测试模板向导流程
- 测试分镜头与资产选择器集成

### 3. 认证权限 E2E 测试
- 测试登录/登出流程
- 测试权限控制（管理员 vs 普通成员）
- 测试受保护路由访问

### 4. 全功能回归测试
- 测试核心用户流程（创建项目 → 添加资产 → 创建分镜头）
- 测试跨功能交互

## Impact

- 新增文件：
  - `e2e/tests/assets/` - 资产管理测试
  - `e2e/tests/storyboard/` - 分镜头测试补充
  - `e2e/tests/auth/` - 认证测试补充
  - `e2e/tests/integration/` - 集成测试

- 修改文件：
  - `e2e/global-setup.ts` - 可能需要调整测试数据
  - `playwright.config.ts` - 可能需要调整配置

## Dependencies

- 使用现有 Playwright 框架
- 使用现有模拟数据服务
- 测试运行需要开发服务器启动
