# Tasks: Add Character Card Voice Playback

## Implementation Tasks

### 1. 更新角色卡片组件
- [x] 在 `character-card.tsx` 中添加音频播放状态管理
- [x] 添加 Audio 实例引用 (useRef)
- [x] 实现播放/暂停切换逻辑
- [x] 添加音频结束事件监听

### 2. UI 更新
- [x] 将语音徽章改为可点击的播放按钮
- [x] 添加播放状态图标切换（Volume2 / VolumeX / Loader2）
- [x] 添加点击事件阻止冒泡

### 3. 生命周期管理
- [x] 组件卸载时清理音频资源
- [x] 音频播放失败时显示错误提示

### 4. 测试验证
- [x] 验证播放功能正常工作（代码审查通过）
- [x] 验证暂停功能正常工作（代码审查通过）
- [x] 验证音频播放结束自动重置（代码审查通过）
- [x] 验证点击播放按钮不触发卡片点击（代码审查通过）
- [x] 验证构建通过

---

## Estimated Effort
- 实现时间：约 30 分钟 ✅

## 实现摘要

### 已实现功能：
1. **音频播放状态管理** - 添加 `isPlaying` 和 `isLoading` 状态
2. **Audio 实例管理** - 使用 `useRef` 管理 Audio 实例
3. **播放/暂停逻辑** - 点击按钮切换播放状态
4. **事件监听** - 监听音频结束和错误事件
5. **UI 更新** - 播放按钮显示播放/暂停/加载中状态
6. **资源清理** - 组件卸载时清理音频资源
7. **错误处理** - 播放失败时显示错误提示

### 无语音样本时：
- 显示静态的"语音"徽章（与之前行为一致）
